import{r as N,j as s}from"./index-sHD_Jc_H.js";import{u as g}from"./useWordsContext-C7gXbtJK.js";import{u as b}from"./useFormValidation-CGTS-_Za.js";const v="_container_6i824_1",C="_subtitleContainer_6i824_15",S="_errorStar_6i824_18",W="_message_6i824_24",f="_addWord_6i824_29",$="_inputContainer_6i824_36",w="_subtitle_6i824_15",y="_invalid_6i824_48",q="_error_6i824_18",A="_buttonContainer_6i824_58",e={container:v,subtitleContainer:C,errorStar:S,message:W,addWord:f,inputContainer:$,subtitle:w,invalid:y,error:q,buttonContainer:A},F=()=>{const{loading:l,addNewWord:c,isAdding:d}=g(),[a,t]=N.useState(""),o={english:"",transcription:"",russian:""},{value:n,errors:r,validateValue:u,handleChange:i,resetErrors:m,setValue:h}=b(o),p=async x=>{if(x.preventDefault(),!u())return;const _={...n,id:Date.now().toString()};try{await c(_),t("✅ Успешно добавлено!"),h(o),m()}catch(j){t("❌ Произошла ошибка при добавлении слова."),console.log("Ошибка при сохранении на сервере:",j)}};return l?s.jsx(AppLoader,{}):s.jsxs("div",{className:e.container,children:[s.jsx("h2",{children:"Добавить слово"}),s.jsx("div",{className:e.addWord,children:s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:e.inputContainer,children:[s.jsxs("div",{className:e.subtitleContainer,children:[s.jsx("h4",{className:e.subtitle,children:"Английское слово"}),s.jsx("span",{className:e.errorStar,children:"*"})]}),s.jsx("input",{name:"english",value:n.english,onChange:i,required:!0,className:`${e.english} ${r.english?e.invalid:""}`}),r.english&&s.jsx("p",{className:e.error,children:"Введите корректное английское слово"})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsxs("div",{className:e.subtitleContainer,children:[s.jsx("h4",{className:e.subtitle,children:"Транскрипция"}),s.jsx("span",{className:e.errorStar,children:"*"})]}),s.jsx("input",{name:"transcription",value:n.transcription,onChange:i,required:!0,className:`${e.transcription} ${r.transcription?e.invalid:""}`}),r.transcription&&s.jsx("p",{className:e.error,children:"Введите корректную транскрипцию"})]}),s.jsxs("div",{className:e.inputContainer,children:[s.jsxs("div",{className:e.subtitleContainer,children:[s.jsx("h4",{className:e.subtitle,children:"Перевод"}),s.jsx("span",{className:e.errorStar,children:"*"})]}),s.jsx("input",{name:"russian",value:n.russian,onChange:i,required:!0,className:`${e.russian} ${r.russian?e.invalid:""}`}),r.russian&&s.jsx("p",{className:e.error,children:"Введите корректный перевод"})]}),s.jsx("div",{className:e.buttonContainer,children:s.jsx("button",{type:"submit",disabled:d||!n.english||!n.transcription||!n.russian,children:"Добавить"})})]})}),a&&s.jsx("p",{className:e.message,children:a})]})};export{F as default};
