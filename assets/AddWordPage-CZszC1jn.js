import{r as j,j as s}from"./index-Co9JmVo_.js";import{u as v}from"./useWordsContext-DLsOd5q0.js";import{u as N}from"./useFormValidation-CZcsopS7.js";const b="_container_1k2y9_1",C="_message_1k2y9_13",y="_addWord_1k2y9_18",k="_inputContainer_1k2y9_25",W="_subtitle_1k2y9_32",f="_invalid_1k2y9_37",$="_error_1k2y9_41",S="_buttonContainer_1k2y9_45",n={container:b,message:C,addWord:y,inputContainer:k,subtitle:W,invalid:f,error:$,buttonContainer:S},D=()=>{const{loading:l,addNewWord:c,isAdding:d}=v(),[i,t]=j.useState(""),o={english:"",transcription:"",russian:""},{value:e,errors:a,validateValue:u,handleChange:r,resetErrors:m,setValue:h}=N(o),p=async x=>{if(x.preventDefault(),!u())return;const _={...e,id:Date.now().toString()};try{await c(_),t("✅ Успешно добавлено!"),h(o),m()}catch(g){t("❌ Произошла ошибка при добавлении слова."),console.log("Ошибка при сохранении на сервере:",g)}};return l?s.jsx(AppLoader,{}):s.jsxs("div",{className:n.container,children:[s.jsx("h1",{children:"Добавить слово"}),s.jsx("div",{className:n.addWord,children:s.jsxs("form",{onSubmit:p,children:[s.jsxs("div",{className:n.inputContainer,children:[s.jsx("h4",{className:n.subtitle,children:"Английское слово"}),s.jsx("input",{name:"english",value:e.english,onChange:r,required:!0,className:`${n.english} ${a.english?n.invalid:""}`}),a.english&&s.jsx("p",{className:n.error,children:"Введите корректное английское слово"})]}),s.jsxs("div",{className:n.inputContainer,children:[s.jsx("h4",{className:n.subtitle,children:"Транскрипция"}),s.jsx("input",{name:"transcription",value:e.transcription,onChange:r,required:!0,className:`${n.transcription} ${a.transcription?n.invalid:""}`}),a.transcription&&s.jsx("p",{className:n.error,children:"Введите корректную транскрипцию"})]}),s.jsxs("div",{className:n.inputContainer,children:[s.jsx("h4",{className:n.subtitle,children:"Перевод"}),s.jsx("input",{name:"russian",value:e.russian,onChange:r,required:!0,className:`${n.russian} ${a.russian?n.invalid:""}`}),a.russian&&s.jsx("p",{className:n.error,children:"Введите корректный перевод"})]}),s.jsx("div",{className:n.buttonContainer,children:s.jsx("button",{type:"submit",disabled:d||!e.english||!e.transcription||!e.russian,children:"Добавить"})})]})}),i&&s.jsx("p",{className:n.message,children:i})]})};export{D as default};
